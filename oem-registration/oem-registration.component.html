<!-- <p>distributor-registration works!</p> -->
<div class="dist-container">
  <h2 style="text-align: center;">OEM Registration</h2>


  <div class="grey-container">

  <div class="form-grid">

    <div class="form-group">
    <label>OEM Name<span class="required">*</span></label>
    <input type="text" [(ngModel)]="distributorForm.name" placeholder="Enter OEM name" />
      </div>

      <div class="form-group">
    <label>Phone Number <span class="required">*</span></label>
    <input type="tel" [(ngModel)]="distributorForm.phone" placeholder="Enter phone number" maxlength="10" pattern="[0-9]{10}"   (input)="validatePhone()"/>
     <p *ngIf="phoneError" class="error-msg">Invalid phone number. Only 10 digits allowed.</p>
</div>


<div class="form-group">
    <label>Email ID<span class="required">*</span></label>
    <input type="email" [(ngModel)]="distributorForm.email" placeholder="Enter email" (input)="validateEmail()"/>
 <p *ngIf="emailError" class="error-msg">Invalid email format.</p>
  </div>
      <div class="form-group">
    <label>Address Line 1 <span class="required">*</span></label>
    <input type="text" [(ngModel)]="distributorForm.address1" placeholder="Address Line 1" />
        </div>

        <div class="form-group">
    <label>Address Line 2</label>
    <input type="text" [(ngModel)]="distributorForm.address2" placeholder="Address Line 2" />
</div>
 <div class="form-group">
    <label>Address Line 3</label>
    <!-- <input type="text" [(ngModel)]="distributorForm.address2" placeholder="Address Line 2" /> -->
    <input type="text"  [(ngModel)]="distributorForm.address3" placeholder="Address Line 3" />
</div>
<div class="form-group">
    <label for="state">State:<span class="required">*</span></label>
    <select class="dropdown" id="state" [(ngModel)]="selectedState" (ngModelChange)="onStateChange()">
      <option value="">-- Select State --</option>
      <option *ngFor="let state of states" [value]="state">{{ state }}</option>
    </select>
</div>

<div class="form-group">
    <label for="districtCorporate">District:<span class="required">*</span></label>
    <select  class="dropdown"  id="districtCorporate" [(ngModel)]="selectedDistrict" (ngModelChange)="distributorForm.district = selectedDistrict">
      <option value="">-- Select District --</option>
      <option *ngFor="let district of districts" [value]="district">{{ district }}</option>
    </select>
</div>

<div class="form-group">
    <label>Pincode <span class="required">*</span></label>
    <input type="text" [(ngModel)]="distributorForm.pincode" placeholder="Enter pincode" maxlength="6" />
</div>


   

    <div class="form-group">
    <label>PAN <span class="required">*</span></label>
    <input type="text" [(ngModel)]="distributorForm.pan" placeholder="Enter PAN" (input)="validatePAN()" maxlength="10"/>
    <p *ngIf="panError" class="error-msg">Invalid PAN format. Should be e.g. ABCDE1234F</p>
    
</div>

<div class="form-group">
    <label>GSTIN <span class="required">*</span></label>
    <input type="text" [(ngModel)]="distributorForm.gstin" placeholder="Enter GSTIN"  (input)="validateGSTIN()" maxlength="15"/>
      <p *ngIf="gstinError" class="error-msg">Invalid GSTIN format.</p>
</div>
</div>
</div>
<br>
<div style="text-align:left; margin-bottom: -2px;
    margin-top: -15px;"><h2     style="text-align:left;">Contact Person Details</h2></div>


<div class="form-group-contact-person"  style="width: 102%;">
&nbsp;
 <!-- <label style="color: black; font-weight: 500;">Select</label> -->
 

  <label style="color: black; font-weight: 500;">Contact Person Name  </label>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

  <label style="color: black; font-weight: 500;">Designation  </label>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  <label style="color: black; font-weight: 500;">Email</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 
  <label style="color: black; font-weight: 500;">Contact Number</label>

</div>


<div class="grey-container">
<div class="form-group-contact-person" *ngFor="let contact of distributorForm.contacts; let i = index" style="width: 100%;">
    <!-- <div class="form-group"> 
  <label>Contact Person Serial No.</label>
  <input type="text" [value]="i +1"  placeholder="Enter contact person" [disabled]="true" />
</div> -->

<!-- <div class="form-group"> -->
 <!-- <label>Select</label> -->
  <!-- <input type="checkbox" [(ngModel)]="contact.name" placeholder="Enter contact person" /> -->
  <!-- <input type="checkbox"  placeholder="Enter  person" /> -->
  <!-- </div> -->
<div class="form-group">

 

  <!-- <label>Contact Person Name</label> -->
  <input type="text" [(ngModel)]="contact.name" placeholder="Enter contact person" />

  </div>

  <div class="form-group">
  <!-- <label>Designation</label> -->
  <input type="text" [(ngModel)]="contact.designation" placeholder="Enter designation" />
</div>
<div class="form-group">
  <!-- <label>Email</label> -->
  <input type="text" [(ngModel)]="contact.email" placeholder="Enter designation" />
</div>

<div class="form-group">
  <!-- <label>Contact Number</label> -->
  <input type="text" [(ngModel)]="contact.number" placeholder="Enter contact number" maxlength="10" />
  </div>

<!-- <button type="button" class="add-btn" style="width: 55%;
    margin-left: 25%;" (click)="addContactPerson()">+ Add Contact Person</button> -->
   <!-- <div class="form-group"> -->

    <div class="form-group">
     <button type="button" class="submit-btn" style="background-color: #e53935;" (click)="removeContact(i)">x</button>
    </div>
    
    </div> 
    </div> 
  <!-- </div> -->
<!-- </div> -->
<!-- <div> -->
<!-- <div class="form-group"> -->
  <!-- <button type="button" class="submit-btn" style="background-color: #e53935;" (click)="removeContact(i)">Remove</button> -->
 <div class="button-end-page" style="display: flex;  justify-content: flex-end;">

  
  <!-- <button type="button" class="submit-btn-add" style="background-color: #e53935;" >Remove</button> -->
<button type="button" class="submit-btn-add"  (click)="addContactPerson()">Add Contact Row</button>
</div>
<!-- <button type="button" class="submit-btn-add" style="width: 6%;margin-left: 94.5%;" (click)="addContactPerson()">Add</button> -->
    <!-- </div> -->
   
<!-- <button type="button" class="add-btn" style="width: 55%;
    margin-left: 25%;" (click)="addContactPerson()">+ Add Contact Person</button>
    -->
<!-- <input type="button" value="Add Contact Person " (click)="addContactPerson()"> -->
   
    <!-- ðŸ‘† End Contact Section -->

  
<br>
  <button class="btn success" (click)="submitForm()" style="margin-left: 33%;">Save</button>

  <h3 *ngIf="registeredDistributors.length">Registered OEMs</h3>
  <table *ngIf="registeredDistributors.length" class="summary-table">
    <thead>
      <tr>
        <th>S.No</th>
        <th>Distributor Name</th>
        <th>GSTIN</th>
        <th>PAN</th>
        <th>Email ID</th>
        <th>Contact Person(s)</th>
        <th>Address</th>
        <th>Designation(s)</th>
        <th>Contact No(s)</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let dist of registeredDistributors; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ dist.name }}</td>
        <td>{{ dist.gstin }}</td>
        <td>{{ dist.pan }}</td>
        <td>{{ dist.email }}</td>
        <td>
          <div *ngFor="let c of dist.contacts">{{ c.name }}</div>
        </td>
        <td>{{ dist.address1 }} {{ dist.address2 }}</td>
        <td>
          <div *ngFor="let c of dist.contacts">{{ c.designation }}</div>
        </td>
        <td>
          <div *ngFor="let c of dist.contacts">{{ c.number }}</div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
