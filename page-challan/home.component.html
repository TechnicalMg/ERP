<form #deliveryForm="ngForm" (ngSubmit)="onSave()">
  <h2 class="h2-header">Delivery Challan</h2>

  <div class="grey-container">
    <div class="form-grid">
      <div class="form-group">
        <label>Distributor:</label>
        <select [(ngModel)]="formData.distributor" name="distributor" required>
          <option value="" disabled selected>Select Distributor</option>
          <option>Distributor 1</option>
          <option>Distributor 2</option>
          <option>Distributor 3</option>
        </select>
      </div>

      <div class="form-group">
        <label>Received PO Number:</label>
        <select [(ngModel)]="formData.gemPoNumber" name="gemPoNumber" required>
          <option value="" disabled selected>Select Received PO</option>
          <option>PO 1</option>
          <option>PO 2</option>
          <option>PO 3</option>
        </select>
      </div>

      <div class="form-group">
        <label>Issued PO No:</label>
        <input type="text" [(ngModel)]="formData.referenceNo" name="referenceNo" required />
      </div>

      <div class="form-group">
        <label>Delivery Start Date:</label>
        <input type="date"
               [(ngModel)]="formData.deliveryStartDate"
               name="deliveryStartDate"
               (focus)="openDatePicker($event)"
               (click)="openDatePicker($event)"
               required />
      </div>

      <div class="form-group">
        <label>Delivery End Date:</label>
        <input type="date"
               [(ngModel)]="formData.deliveryEndDate"
               name="deliveryEndDate"
               (focus)="openDatePicker($event)"
               (click)="openDatePicker($event)"
               required />
      </div>
    </div>
  </div>

  <div class="grey-container">
    <div class="form-grid">
      <div class="form-group">
        <label>Challan Number:</label>
        <input type="text" [(ngModel)]="formData.challanNumber" name="challanNumber" required />
      </div>

      <div class="form-group">
        <label>Challan Date:</label>
        <input type="date"
               [(ngModel)]="formData.challanDate"
               name="challanDate"
               (focus)="openDatePicker($event)"
               (click)="openDatePicker($event)"
               required />
      </div>

      <div class="form-group">
        <label>PO Generated Date:</label>
        <input type="text" [(ngModel)]="formData.poGeneratedDate" name="poGeneratedDate" readonly placeholder="23-01-2024..." />
      </div>

      <div class="form-group">
        <label>Vehicle No:</label>
        <input type="text" [(ngModel)]="formData.vehicleNumber" name="vehicleNumber" />
      </div>

      <div class="form-group">
        <label>Courier Name:</label>
        <input type="text" [(ngModel)]="formData.courierName" name="courierName" />
      </div>

      <div class="form-group">
        <label>Courier POD No:</label>
        <input type="text" [(ngModel)]="formData.courierPODNo" name="courierPODNo" />
      </div>

      <div class="form-group">
        <label>Ship To:</label>
        <textarea rows="2" [(ngModel)]="formData.shipTo" name="shipTo"></textarea>
      </div>
    </div>
  </div>

  <div class="grey-container">
    <div class="custom-table-container">
      <table class="custom-table">
        <thead>
          <tr>
            <th>S No.</th>
            <th>Item Description</th>
            <th>HSN</th>
            <th>Qty</th>
            <th>Box</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</td>
            <td>12253</td>
            <td>10</td>
            <td>5</td>
          </tr>
        </tbody>
      </table>

      <div class="summary">
        <p><strong>Total No. of Boxes:</strong> {{ totalBoxes }}</p>
        <p><strong>Approximate Value of Goods (Rs):</strong> {{ totalValue }}</p>
      </div>

      <div class="signature-block">
        <label>Receiver Signature with Stamp Upload:</label>
        <input type="file" (change)="handleFileUpload($event)" />
        <p>Uploaded: {{ uploadedFileName }}</p>
      </div>
    </div>
  </div>

  <div style="text-align: center; margin: 24px 0;">
    <button class="btn primary" [disabled]="deliveryForm.invalid">Save</button>
  </div>
</form>
